---
  flow-definitions:
    - name: 'osioAnalysisFlow'
      queue: '{DEPLOYMENT_PREFIX}_api_osioAnalysisFlow_v0'
      edges:
        - from:
          to: 'GithubDependencyTreeTask'
        - from: 'GithubDependencyTreeTask'
          to: 'unknown_deps_fetcher'
        - from: 'unknown_deps_fetcher'
          to: 'bayesianApiFlow'
          foreach:
            import: 'f8a_worker.dispatcher.foreach'
            function: 'iter_unknown_dependencies'
            # result of the function is used as sub-flow arguments
            propagate_result: true
          condition:
            and:
              - &recursiveAnalysisCheck
                or:
                - not:
                    name: 'argsFieldExist'
                    args:
                      key: 'recursive_limit'
                - name: 'argsFieldGreater'
                  args:
                     key: 'recursive_limit'
                     value: 0
              - name: 'envEqual'
                args:
                  env: 'WORKER_ADMINISTRATION_REGION'
                  value: 'api'
